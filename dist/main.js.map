{"version":3,"sources":["webpack://Mason/webpack/universalModuleDefinition","webpack://Mason/webpack/bootstrap","webpack://Mason/./src/grid/index.js","webpack://Mason/./src/grid/track-sizing.js","webpack://Mason/./src/index.js","webpack://Mason/./src/mason.js","webpack://Mason/./src/utils/constants.js","webpack://Mason/./src/utils/index.js"],"names":["parseTemplete","template","map","size","index","start","end","withinBounds","rowStart","rowEnd","colStart","colEnd","templateRows","templateColumns","length","addCoordinatesToCells","gridMatrix","children","i","j","item","usedX","usedY","cell","startX","endX","columnSize","startY","endY","rowSize","forEach","child","matrixPosition","row","column","layout","width","style","height","placeChildrenInGrid","gridRowStart","gridRowEnd","gridColumnStart","gridColumnEnd","inflateGridCells","tsa","columns","rows","containerHeight","containerWidth","set","c","resolveTracks","r","baseSize","computeGridLayout","domTree","styles","TrackResolver","createGridMatrix","formattedRows","push","formattedColumns","getDisplayProperty","computeLayout","getMultiplierOfFr","replace","_frSpaceDistributorHelper","tracks","totalSpaceUsed","containerSize","freeSpace","spacePerFrTrack","eligibleTracks","totalFrTrackRatio","track","multiplier","filter","_intrinsicSpaceDistributorHelper","spacePerIntrinsicTrack","items","props","_config","frTracks","intrinsicTracks","key","info","_initTrackSize","_initItems","_tracks","config","trackAr","len","type","growthLimit","isNaN","indexOf","Infinity","sanitizedTracks","_items","sanitizedItems","_getParentSize","sort","a","b","gap1","gap2","parentTracks","widthOfParentTracks","_placeNonSpanningItems","_placeSpanningItems","_distributeFreeSpace","nonSpanningItems","trackIndex","Math","max","trackId","getComputeFn","display","DISPLAY_GRID","DISPLAY_FLEX"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;;AClFA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;AAGA,IAAMA,aAAa,GAAG,SAAhBA,aAAgB,CAACC,QAAD;AAAA,SAAcA,QAAQ,CAACC,GAAT,CAAa,UAACC,IAAD,EAAOC,KAAP;AAAA,WAAkB;AAAED,UAAI,EAAJA,IAAF;AAAQE,WAAK,EAAED,KAAK,GAAG,CAAvB;AAA0BE,SAAG,EAAEF,KAAK,GAAG;AAAvC,KAAlB;AAAA,GAAb,CAAd;AAAA,CAAtB;AAAA,IACEG,YAAY,GAAG,SAAfA,YAAe,CAACC,QAAD,EAAWC,MAAX,EAAmBC,QAAnB,EAA6BC,MAA7B,EAAqCC,YAArC,EAAmDC,eAAnD,EAAuE;AACpF,SAAOL,QAAQ,GAAG,CAAX,IAAgB,CAAhB,IACFA,QAAQ,GAAG,CAAX,GAAeI,YAAY,CAACE,MAD1B,IAEFL,MAAM,GAAG,CAAT,IAAc,CAFZ,IAGFA,MAAM,GAAG,CAAT,GAAaG,YAAY,CAACE,MAHxB,IAIFJ,QAAQ,GAAG,CAAX,IAAgB,CAJd,IAKFA,QAAQ,GAAG,CAAX,GAAeG,eAAe,CAACC,MAL7B,IAMFH,MAAM,GAAG,CAAT,IAAc,CANZ,IAOFA,MAAM,GAAG,CAAT,GAAaE,eAAe,CAACC,MAPlC;AAQD,CAVH;AAAA,IAWEC,qBAAqB,GAAG,SAAxBA,qBAAwB,CAACC,UAAD,EAAaC,QAAb,EAA0B;AAChD,MAAIC,CAAJ;AAAA,MAAOC,CAAP;AAAA,MAAUC,IAAV;AAAA,MAAgBC,KAAK,GAAG,CAAxB;AAAA,MAA2BC,KAAK,GAAG,CAAnC;AAAA,MAAsCC,IAAI,GAAG,EAA7C;;AACA,OAAKL,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGF,UAAU,CAACF,MAA3B,EAAmCI,CAAC,EAApC,EAAwC;AACtCG,SAAK,GAAG,CAAR,CADsC,CAEtC;;AACA,SAAKF,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGH,UAAU,CAACE,CAAD,CAAV,CAAcJ,MAA9B,EAAsCK,CAAC,EAAvC,EAA2C;AACzCC,UAAI,GAAGJ,UAAU,CAACE,CAAD,CAAV,CAAcC,CAAd,CAAP;AAEAC,UAAI,CAACI,MAAL,GAAcH,KAAd;AACAD,UAAI,CAACK,IAAL,GAAYJ,KAAK,GAAGD,IAAI,CAACM,UAAzB;AACAL,WAAK,GAAGD,IAAI,CAACK,IAAb;AAEAL,UAAI,CAACO,MAAL,GAAcL,KAAd;AACAF,UAAI,CAACQ,IAAL,GAAYN,KAAK,GAAGF,IAAI,CAACS,OAAzB;;AAEA,UAAIV,CAAC,IAAIH,UAAU,CAACE,CAAD,CAAV,CAAcJ,MAAd,GAAuB,CAAhC,EAAmC;AACjCQ,aAAK,GAAGA,KAAK,GAAGF,IAAI,CAACS,OAArB;AACD;AACF;AACF;;AAEDZ,UAAQ,CAACa,OAAT,CAAiB,UAAAC,KAAK,EAAI;AACxBR,QAAI,GAAGP,UAAU,CAACe,KAAK,CAACC,cAAN,CAAqBC,GAAtB,CAAV,CAAqCF,KAAK,CAACC,cAAN,CAAqBE,MAA1D,CAAP;AACAH,SAAK,CAACI,MAAN,GAAe,EAAf;AACAJ,SAAK,CAACI,MAAN,CAAaC,KAAb,GAAqBL,KAAK,CAACM,KAAN,CAAYD,KAAjC;AACAL,SAAK,CAACI,MAAN,CAAaG,MAAb,GAAsBP,KAAK,CAACM,KAAN,CAAYC,MAAlC;AACAP,SAAK,CAACI,MAAN,CAAaX,MAAb,GAAsBD,IAAI,CAACC,MAA3B;AACAO,SAAK,CAACI,MAAN,CAAaR,MAAb,GAAsBJ,IAAI,CAACI,MAA3B;AACAI,SAAK,CAACI,MAAN,CAAaV,IAAb,GAAoBF,IAAI,CAACE,IAAzB;AACAM,SAAK,CAACI,MAAN,CAAaP,IAAb,GAAoBL,IAAI,CAACK,IAAzB;AACD,GATD;AAUD,CA1CH;AAAA,IA2CEW,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACtB,QAAD,EAAWD,UAAX,EAAuBJ,YAAvB,EAAqCC,eAArC,EAAyD;AAC7EI,UAAQ,CAACa,OAAT,CAAiB,UAAAC,KAAK,EAAI;AAAA,uBAC6CA,KAAK,CAACM,KADnD;AAAA,QAChBG,YADgB,gBAChBA,YADgB;AAAA,QACFC,UADE,gBACFA,UADE;AAAA,QACUC,eADV,gBACUA,eADV;AAAA,QAC2BC,aAD3B,gBAC2BA,aAD3B;;AAExB,QAAIpC,YAAY,CAACiC,YAAD,EAAeC,UAAf,EAA2BC,eAA3B,EAA4CC,aAA5C,EAA2D/B,YAA3D,EAAyEC,eAAzE,CAAhB,EAA2G;AACzGG,gBAAU,CAACwB,YAAY,GAAG,CAAhB,CAAV,CAA6BE,eAAe,GAAG,CAA/C,EAAkDtB,IAAlD,GAAyDW,KAAzD;AACAA,WAAK,CAACC,cAAN,GAAuB;AACrBC,WAAG,EAAEO,YAAY,GAAG,CADC;AAErBN,cAAM,EAAEQ,eAAe,GAAG;AAFL,OAAvB,CAFyG,CAMzG;AACD;AACF,GAVD;AAWD,CAvDH;AAAA,IAwDEE,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,GAAD,EAAM5B,QAAN,EAAgB6B,OAAhB,EAAyBC,IAAzB,EAA+BC,eAA/B,EAAgDC,cAAhD,EAAgEjC,UAAhE,EAA+E;AAChG,MAAIE,CAAJ,EACEC,CADF;AAGA2B,SAAO,GAAGD,GAAG,CAACK,GAAJ,CAAQ,QAAR,EAAkBJ,OAAlB,EACPI,GADO,CACH,OADG,EACMjC,QAAQ,CAACf,GAAT,CAAa,UAAAiD,CAAC;AAAA,WAAK;AAAE9C,WAAK,EAAE8C,CAAC,CAACd,KAAF,CAAQK,eAAjB;AAAkCpC,SAAG,EAAE6C,CAAC,CAACd,KAAF,CAAQM,aAA/C;AAA8DxC,UAAI,EAAEgD,CAAC,CAACd,KAAF,CAAQD;AAA5E,KAAL;AAAA,GAAd,CADN,EAEPc,GAFO,CAEH,eAFG,EAEcF,eAFd,EAGPI,aAHO,EAAV;AAKAL,MAAI,GAAGF,GAAG,CAACK,GAAJ,CAAQ,QAAR,EAAkBH,IAAlB,EACJG,GADI,CACA,OADA,EACSjC,QAAQ,CAACf,GAAT,CAAa,UAAAmD,CAAC;AAAA,WAAK;AAAEhD,WAAK,EAAEgD,CAAC,CAAChB,KAAF,CAAQG,YAAjB;AAA+BlC,SAAG,EAAE+C,CAAC,CAAChB,KAAF,CAAQI,UAA5C;AAAwDtC,UAAI,EAAEkD,CAAC,CAAChB,KAAF,CAAQC;AAAtE,KAAL;AAAA,GAAd,CADT,EAEJY,GAFI,CAEA,eAFA,EAEiBD,cAFjB,EAGJG,aAHI,EAAP;;AAKA,OAAKlC,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAG6B,IAAI,CAACjC,MAArB,EAA6BI,CAAC,EAA9B,EAAkC;AAChC,SAAKC,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAG4B,IAAI,CAACjC,MAArB,EAA6BK,CAAC,EAA9B,EAAkC;AAChCH,gBAAU,CAACE,CAAD,CAAV,CAAcC,CAAd,EAAiBU,OAAjB,GAA2BkB,IAAI,CAAC7B,CAAD,CAAJ,CAAQoC,QAAnC;AACAtC,gBAAU,CAACE,CAAD,CAAV,CAAcC,CAAd,EAAiBO,UAAjB,GAA8BoB,OAAO,CAAC3B,CAAD,CAAP,CAAWmC,QAAzC;AACD;AACF;AACF,CA5EH;AAAA,IA6EEC,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,OAAD,EAAa;AACzB,MAAAxC,UAAU,GAAG,EAAb;AAAA,MACJyC,MADI,GACKD,OAAO,CAACnB,KAAR,IAAiB,EADtB;AAAA,MAEJpB,QAFI,GAEOuC,OAAO,CAACvC,QAAR,IAAoB,EAF3B;AAAA,MAGFL,YAHE,GAG+C6C,MAH/C,CAGF7C,YAHE;AAAA,MAGYC,eAHZ,GAG+C4C,MAH/C,CAGY5C,eAHZ;AAAA,MAG6BuB,KAH7B,GAG+CqB,MAH/C,CAG6BrB,KAH7B;AAAA,MAGoCE,MAHpC,GAG+CmB,MAH/C,CAGoCnB,MAHpC;AAAA,MAIJO,GAJI,GAIE,IAAIa,qDAAJ,EAJF;AAAA,MAKJC,gBALI,GAKe,SAAnBA,gBAAmB,GAAM;AACvB,QAAIzC,CAAJ;;AACA,SAAKA,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAG0C,aAAa,CAAC9C,MAA9B,EAAsCI,CAAC,EAAvC,EAA2C;AACzCF,gBAAU,CAAC6C,IAAX,CAAgBC,gBAAgB,CAAC5D,GAAjB,CAAqB,UAAAiD,CAAC;AAAA,eAAK;AACzCzB,oBAAU,EAAE,CAACyB,CAAC,CAAChD,IAD0B;AAEzC0B,iBAAO,EAAE,CAAC+B,aAAa,CAAC1C,CAAD,CAAb,CAAiBf;AAFc,SAAL;AAAA,OAAtB,CAAhB;AAID;AACF,GAbG;;AAeN,MAAIe,CAAJ;AAAA,MACE0C,aAAa,GAAG5D,aAAa,CAACY,YAAD,CAD/B;AAAA,MAEEkD,gBAAgB,GAAG9D,aAAa,CAACa,eAAD,CAFlC;;AAIA,OAAKK,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGD,QAAQ,CAACH,MAAzB,EAAiCI,CAAC,EAAlC,EAAsC;AACpC,QAAI6C,iEAAkB,CAAC9C,QAAQ,CAACC,CAAD,CAAT,CAAtB,EAAqC;AACnCD,cAAQ,CAACC,CAAD,CAAR,GAAc8C,4DAAa,CAAC/C,QAAQ,CAACC,CAAD,CAAT,CAA3B;AACD;AACF,GAxB8B,CA0B/B;;;AACAyC,kBAAgB,GA3Be,CA4B/B;;AACApB,qBAAmB,CAACtB,QAAD,EAAWD,UAAX,EAAuBJ,YAAvB,EAAqCC,eAArC,CAAnB,CA7B+B,CA8B/B;;AACA+B,kBAAgB,CAACC,GAAD,EAAM5B,QAAN,EAAgB6C,gBAAhB,EAAkCF,aAAlC,EAAiDtB,MAAjD,EAAyDF,KAAzD,EAAgEpB,UAAhE,CAAhB,CA/B+B,CAgC/B;;AACA4B,kBAAgB,CAACC,GAAD,EAAM5B,QAAN,EAAgB6C,gBAAhB,EAAkCF,aAAlC,EAAiDtB,MAAjD,EAAyDF,KAAzD,EAAgEpB,UAAhE,CAAhB,CAjC+B,CAkC/B;;AACAD,uBAAqB,CAACC,UAAD,EAAaC,QAAb,CAArB;AAEA,SAAOuC,OAAP;AACD,CAnHH;;AAqHeD,gFAAf,E;;;;;;;;;;;;;;;;;;;;;;;;;AC1HA,IAAMU,iBAAiB,GAAG,SAApBA,iBAAoB,CAAA9D,IAAI;AAAA,SAAI,CAACA,IAAI,CAAC+D,OAAL,CAAa,IAAb,EAAmB,EAAnB,CAAL;AAAA,CAA9B;AAAA,IACEC,yBAAyB,GAAG,SAA5BA,yBAA4B,CAACC,MAAD,EAASC,cAAT,EAAyBC,aAAzB,EAA2C;AACrE,MAAIC,SAAJ;AAAA,MACEC,eADF;AAAA,MAEEC,cAFF;AAAA,MAGEC,iBAAiB,GAAG,CAHtB;;AAKA,MAAI,CAACN,MAAM,CAACtD,MAAZ,EAAoB;AAClB;AACD;;AAEDsD,QAAM,CAACtC,OAAP,CAAe,UAAA6C,KAAK;AAAA,WAAID,iBAAiB,IAAIC,KAAK,CAACC,UAA/B;AAAA,GAApB;AAEAL,WAAS,GAAGD,aAAa,GAAGD,cAA5B;AACAG,iBAAe,GAAGD,SAAS,GAAGG,iBAA9B;AAEAD,gBAAc,GAAGL,MAAM,CAACS,MAAP,CAAc,UAAAF,KAAK;AAAA,WAAIA,KAAK,CAACrB,QAAN,IAAkBqB,KAAK,CAACC,UAAN,GAAmBJ,eAAzC;AAAA,GAAnB,CAAjB;;AAEA,MAAIC,cAAc,CAAC3D,MAAf,GAAwBsD,MAAM,CAACtD,MAAnC,EAA2C;AACzCsD,UAAM,CAACS,MAAP,CAAc,UAAAF,KAAK;AAAA,aAAIA,KAAK,CAACrB,QAAN,GAAiBqB,KAAK,CAACC,UAAN,GAAmBJ,eAAxC;AAAA,KAAnB,EAA4E1C,OAA5E,CAAoF,UAAA6C,KAAK;AAAA,aAAIN,cAAc,IAAIM,KAAK,CAACrB,QAA5B;AAAA,KAAzF;AACA,WAAOa,yBAAyB,CAACM,cAAD,EAAiBJ,cAAjB,EAAiCC,aAAjC,CAAhC;AACD,GAHD,MAGO;AACLG,kBAAc,CAAC3C,OAAf,CAAuB,UAAA6C,KAAK;AAAA,aAAIA,KAAK,CAACrB,QAAN,GAAiBqB,KAAK,CAACC,UAAN,GAAmBJ,eAAxC;AAAA,KAA5B;AACD;AACF,CAxBH;AAAA,IAyBEM,gCAAgC,GAAG,SAAnCA,gCAAmC,CAACV,MAAD,EAASC,cAAT,EAAyBC,aAAzB,EAA2C;AAC5E,MAAIC,SAAJ,EACEQ,sBADF;;AAGA,MAAI,CAACX,MAAM,CAACtD,MAAZ,EAAoB;AAClB;AACD;;AAEDyD,WAAS,GAAGD,aAAa,GAAGD,cAA5B;AACAU,wBAAsB,GAAGR,SAAS,GAAGH,MAAM,CAACtD,MAA5C;AAEAsD,QAAM,CAACtC,OAAP,CAAe,UAAA6C,KAAK;AAAA,WAAIA,KAAK,CAACrB,QAAN,IAAkByB,sBAAtB;AAAA,GAApB;AACD,CArCH;;IAuCMrB,a;;;AACJ,2BAA2D;AAAA,QAA9CU,MAA8C,uEAArC,EAAqC;AAAA,QAAjCY,KAAiC,uEAAzB,EAAyB;AAAA,QAArBV,aAAqB,uEAAL,GAAK;;AAAA;;AACzD,SAAKW,KAAL,GAAa,EAAb;AACA,SAAKC,OAAL,GAAe;AACbC,cAAQ,EAAE,EADG;AAEbC,qBAAe,EAAE;AAFJ,KAAf;AAKA,SAAKlC,GAAL,CAAS,QAAT,EAAmBkB,MAAnB;AACA,SAAKlB,GAAL,CAAS,OAAT,EAAkB8B,KAAlB;AACA,SAAK9B,GAAL,CAAS,eAAT,EAA0BoB,aAA1B;AAEA,WAAO,IAAP;AACD;;;;wBAEIe,G,EAAKC,I,EAAM;AACd,WAAKL,KAAL,CAAWI,GAAX,IAAkBC,IAAlB;;AAEA,cAAQD,GAAR;AACA,aAAK,QAAL;AACE,eAAKE,cAAL;;AAAuB;;AACzB,aAAK,OAAL;AACE,eAAKC,UAAL;;AAAmB;AAJrB;;AAMA,aAAO,IAAP;AACD;;;wBAEIH,G,EAAK;AACR,aAAO,KAAKJ,KAAL,CAAWI,GAAX,CAAP;AACD;;;mCAEeI,O,EAAS;AACvB,UAAIrB,MAAM,GAAGqB,OAAO,IAAI,KAAKR,KAAL,CAAWb,MAAtB,IAAgC,EAA7C;AAAA,UACEsB,MAAM,GAAG,KAAKR,OADhB;AAAA,UAEES,OAAO,GAAG,EAFZ;AAAA,UAGEzE,CAHF;AAAA,UAIE0E,GAJF;AAAA,UAKEzF,IALF;AAAA,UAME0F,IANF;AAAA,UAOEjB,UAPF;AAAA,UAQEtB,QARF;AAAA,UASEwC,WATF;AAWAJ,YAAM,CAACP,QAAP,GAAkB,EAAlB;AACAO,YAAM,CAACN,eAAP,GAAyB,EAAzB;;AAEA,WAAKlE,CAAC,GAAG,CAAJ,EAAO0E,GAAG,GAAGxB,MAAM,CAACtD,MAAzB,EAAiCI,CAAC,GAAG0E,GAArC,EAA0C1E,CAAC,EAA3C,EAA+C;AAC7Cf,YAAI,GAAGiE,MAAM,CAAClD,CAAD,CAAN,CAAUf,IAAjB;AAEAyE,kBAAU,GAAG,CAAb;;AACA,YAAI,CAACmB,KAAK,CAAC,CAAC5F,IAAF,CAAV,EAAmB;AACjBmD,kBAAQ,GAAGwC,WAAW,GAAG,CAAC3F,IAA1B;AACA0F,cAAI,GAAG,OAAP;AACD,SAHD,MAGO,IAAI1F,IAAI,CAAC6F,OAAL,CAAa,IAAb,IAAqB,CAAzB,EAA4B;AACjC1C,kBAAQ,GAAGwC,WAAW,GAAG,CAAzB;AACAJ,gBAAM,CAACP,QAAP,CAAgBtB,IAAhB,CAAqB3C,CAArB;AACA2E,cAAI,GAAG,MAAP;AACAjB,oBAAU,GAAGX,iBAAiB,CAAC9D,IAAD,CAA9B;AACD,SALM,MAKA;AACLmD,kBAAQ,GAAG,CAAX;AACAwC,qBAAW,GAAGG,QAAd;AACAJ,cAAI,GAAG,WAAP;AACAH,gBAAM,CAACN,eAAP,CAAuBvB,IAAvB,CAA4B3C,CAA5B;AACD;;AAEDyE,eAAO,CAAC9B,IAAR,mBACKO,MAAM,CAAClD,CAAD,CADX;AAEE2E,cAAI,EAAJA,IAFF;AAGEjB,oBAAU,EAAVA,UAHF;AAIEtB,kBAAQ,EAARA,QAJF;AAKEwC,qBAAW,EAAXA;AALF;AAOD;;AAED,aAAQJ,MAAM,CAACQ,eAAP,GAAyBP,OAAjC;AACD;;;+BAEWQ,M,EAAQ;AAClB,UAAInB,KAAK,GAAGmB,MAAM,IAAI,KAAKlB,KAAL,CAAWD,KAArB,IAA8B,EAA1C;AAAA,UACEoB,cAAc,GAAG,EADnB;AAAA,UAEEhF,IAFF;AAAA,UAGEF,CAHF;AAAA,UAIE0E,GAJF;;AAMA,WAAK1E,CAAC,GAAG,CAAJ,EAAO0E,GAAG,GAAGZ,KAAK,CAAClE,MAAxB,EAAgCI,CAAC,GAAG0E,GAApC,EAAyC1E,CAAC,EAA1C,EAA8C;AAC5CkF,sBAAc,CAACvC,IAAf,mBAAwBmB,KAAK,CAAC9D,CAAD,CAA7B;AAEAE,YAAI,GAAGgF,cAAc,CAAClF,CAAD,CAArB;AAEAE,YAAI,CAACjB,IAAL,GAAY4F,KAAK,CAAC3E,IAAI,CAACjB,IAAN,CAAL,GAAmB,KAAKkG,cAAL,CAAoBjF,IAApB,CAAnB,GAA+C,CAACA,IAAI,CAACjB,IAAjE;AACD;;AAEDiG,oBAAc,CAACE,IAAf,CAAoB,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AAClC,YAAIC,IAAI,GAAGF,CAAC,CAACjG,GAAF,GAAQiG,CAAC,CAAClG,KAArB;AAAA,YACEqG,IAAI,GAAGF,CAAC,CAAClG,GAAF,GAAQkG,CAAC,CAACnG,KADnB;;AAGA,YAAIoG,IAAI,KAAKC,IAAb,EAAmB;AACjB,iBAAOH,CAAC,CAAClG,KAAF,GAAUmG,CAAC,CAACnG,KAAnB;AACD,SAFD,MAEO,OAAOoG,IAAI,GAAGC,IAAd;AACR,OAPD;AASA,aAAQ,KAAKxB,OAAL,CAAakB,cAAb,GAA8BA,cAAtC;AACD;;;mCAEehF,I,EAAM;AAChB,UAAE8E,eAAF,GAAsB,KAAKhB,OAA3B,CAAEgB,eAAF;AAAA,UACFS,YADE;AAAA,UAEFC,mBAFE,GAEoB,CAFpB;AAIJD,kBAAY,GAAGT,eAAe,CAACrB,MAAhB,CAAuB,UAAAF,KAAK;AAAA,eAAKA,KAAK,CAACtE,KAAN,IAAee,IAAI,CAACf,KAApB,IAA6BsE,KAAK,CAACrE,GAAN,IAAac,IAAI,CAACd,GAApD;AAAA,OAA5B,CAAf;AAEAqG,kBAAY,CAAC7E,OAAb,CAAqB,UAAA6C,KAAK;AAAA,eAAIiC,mBAAmB,IAAIjC,KAAK,CAACrB,QAAjC;AAAA,OAA1B;AAEA,aAAQsD,mBAAmB,IAAI,CAA/B;AACD;;;oCAEgB;AACf,WAAKC,sBAAL,GACGC,mBADH,GAEGC,oBAFH;;AAIA,aAAO,KAAK7B,OAAL,CAAagB,eAApB;AACD;;;6CAEyB;AAAA,0BACkB,KAAKhB,OADvB;AAAA,UAClBkB,cADkB,iBAClBA,cADkB;AAAA,UACFF,eADE,iBACFA,eADE;AAAA,UAEtBc,gBAFsB,GAEHZ,cAAc,CAACvB,MAAf,CAAsB,UAAAzD,IAAI;AAAA,eAAKA,IAAI,CAACd,GAAL,GAAWc,IAAI,CAACf,KAAjB,KAA4B,CAAhC;AAAA,OAA1B,CAFG;AAAA,UAGtBsE,KAHsB;AAAA,UAItBsC,UAJsB;AAMxBD,sBAAgB,CAAClF,OAAjB,CAAyB,UAAAV,IAAI,EAAI;AAC/B6F,kBAAU,GAAG7F,IAAI,CAACf,KAAL,GAAa,CAA1B;AACAsE,aAAK,GAAGuB,eAAe,CAACe,UAAD,CAAvB;;AAEA,YAAItC,KAAK,CAACkB,IAAN,KAAe,OAAnB,EAA4B;AAC1BlB,eAAK,CAACrB,QAAN,GAAiB4D,IAAI,CAACC,GAAL,CAASxC,KAAK,CAACrB,QAAf,EAAyBlC,IAAI,CAACjB,IAA9B,CAAjB;AACAwE,eAAK,CAACmB,WAAN,GAAoBoB,IAAI,CAACC,GAAL,CAASxC,KAAK,CAACmB,WAAf,EAA4BnB,KAAK,CAACrB,QAAlC,CAApB;AACD;AACF,OARD;AAUA,aAAO,IAAP;AACD;;;0CAEsB;AACrB,aAAO,IAAP;AACD;;;2CAEuB;AAAA,2BAC+B,KAAK4B,OADpC;AAAA,UAChBC,QADgB,kBAChBA,QADgB;AAAA,UACNC,eADM,kBACNA,eADM;AAAA,UACWc,eADX,kBACWA,eADX;AAAA,UAElB5B,aAFkB,GAEA,KAAKW,KAFL,CAElBX,aAFkB;AAAA,UAGpBD,cAHoB,GAGH,CAHG;AAKtB6B,qBAAe,CAACpE,OAAhB,CAAwB,UAAA6C,KAAK;AAAA,eAAIN,cAAc,IAAIM,KAAK,CAACrB,QAA5B;AAAA,OAA7B;;AAEA,UAAIe,cAAc,GAAGC,aAArB,EAAoC;AAClC,YAAIa,QAAQ,CAACrE,MAAb,EAAqB;AACnBqE,kBAAQ,CAACrD,OAAT,CAAiB,UAACsF,OAAD,EAAUhH,KAAV,EAAoB;AAAC+E,oBAAQ,CAAC/E,KAAD,CAAR,GAAkB8F,eAAe,CAACkB,OAAD,CAAjC;AAA4C,WAAlF;AACAjC,kBAAQ,CAACrD,OAAT,CAAiB,UAAA6C,KAAK;AAAA,mBAAIN,cAAc,IAAIM,KAAK,CAACrB,QAA5B;AAAA,WAAtB;;AACAa,mCAAyB,CAACgB,QAAD,EAAWd,cAAX,EAA2BC,aAA3B,CAAzB;AACD,SAJD,MAIO,IAAIc,eAAe,CAACtE,MAApB,EAA4B;AACjCsE,yBAAe,CAACtD,OAAhB,CAAwB,UAACsF,OAAD,EAAUhH,KAAV,EAAoB;AAACgF,2BAAe,CAAChF,KAAD,CAAf,GAAyB8F,eAAe,CAACkB,OAAD,CAAxC;AAAmD,WAAhG;;AACAtC,0CAAgC,CAACM,eAAD,EAAkBf,cAAlB,EAAkCC,aAAlC,CAAhC;AACD;AACF;;AACD,aAAO,IAAP;AACD;;;;;;AAGYZ,4EAAf,E;;;;;;;;;;;;AC/MA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;AAEA,IAAM2D,YAAY,GAAG,SAAfA,YAAe,CAACC,OAAD,EAAa;AAChC,UAAOA,OAAP;AACE,SAAKC,6DAAL;AAAmB,aAAOhE,6CAAP;;AACnB,SAAKiE,6DAAL;AAAmB,aAAOjE,6CAAP;;AACnB;AACA;AACA,aAAOA,6CAAP;AALF;AAOD,CARD;AAAA,IASAS,aAAa,GAAG,SAAhBA,aAAgB,GAAkB;AAAA,MAAjBR,OAAiB,uEAAP,EAAO;AAChC,SAAO6D,YAAY,CAACtD,iEAAkB,CAACP,OAAD,CAAnB,CAAZ,CAA0CA,OAA1C,CAAP;AACD,CAXD;;;;;;;;;;;;;;ACJA;AAAA;AAAA;AAAO,IAAM+D,YAAY,GAAG,MAArB;AACA,IAAMC,YAAY,GAAG,MAArB,C;;;;;;;;;;;;ACDP;AAAA;AAAA,IAAMzD,kBAAkB,GAAG,SAArBA,kBAAqB,CAACP,OAAD,EAAa;AACtC,SAAOA,OAAO,CAACnB,KAAR,IAAiBmB,OAAO,CAACnB,KAAR,CAAciF,OAAtC;AACD,CAFD","file":"main.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Mason\"] = factory();\n\telse\n\t\troot[\"Mason\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","import { getDisplayProperty } from \"../utils\";\nimport { computeLayout } from \"../mason\";\nimport TrackResolver from \"./track-sizing\";\n\n\nconst parseTemplete = (template) => template.map((size, index) => ({ size, start: index + 1, end: index + 2 })),\n  withinBounds = (rowStart, rowEnd, colStart, colEnd, templateRows, templateColumns) => {\n    return rowStart - 1 >= 0\n      && rowStart - 1 < templateRows.length\n      && rowEnd - 2 >= 0\n      && rowEnd - 2 < templateRows.length\n      && colStart - 1 >= 0\n      && colStart - 1 < templateColumns.length\n      && colEnd - 2 >= 0\n      && colEnd - 2 < templateColumns.length;\n  },\n  addCoordinatesToCells = (gridMatrix, children) => {\n    let i, j, item, usedX = 0, usedY = 0, cell = {};\n    for (i = 0; i < gridMatrix.length; i++) {\n      usedX = 0;\n      // usedY = null;\n      for (j = 0; j < gridMatrix[i].length; j++) {\n        item = gridMatrix[i][j];\n\n        item.startX = usedX;\n        item.endX = usedX + item.columnSize;\n        usedX = item.endX;\n\n        item.startY = usedY;\n        item.endY = usedY + item.rowSize;\n\n        if (j == gridMatrix[i].length - 1) {\n          usedY = usedY + item.rowSize;\n        }\n      }\n    }\n\n    children.forEach(child => {\n      cell = gridMatrix[child.matrixPosition.row][child.matrixPosition.column];\n      child.layout = {};\n      child.layout.width = child.style.width;\n      child.layout.height = child.style.height;\n      child.layout.startX = cell.startX;\n      child.layout.startY = cell.startY;\n      child.layout.endX = cell.endX;\n      child.layout.endY = cell.endY;\n    });\n  },\n  placeChildrenInGrid = (children, gridMatrix, templateRows, templateColumns) => {\n    children.forEach(child => {\n      const { gridRowStart, gridRowEnd, gridColumnStart, gridColumnEnd } = child.style;\n      if (withinBounds(gridRowStart, gridRowEnd, gridColumnStart, gridColumnEnd, templateRows, templateColumns)) {\n        gridMatrix[gridRowStart - 1][gridColumnStart - 1].item = child;\n        child.matrixPosition = {\n          row: gridRowStart - 1,\n          column: gridColumnStart - 1\n        };\n        // TODO:  consider spanning items\n      }\n    });\n  },\n  inflateGridCells = (tsa, children, columns, rows, containerHeight, containerWidth, gridMatrix) => {\n    let i,\n      j;\n\n    columns = tsa.set('tracks', columns)\n      .set('items', children.map(c => ({ start: c.style.gridColumnStart, end: c.style.gridColumnEnd, size: c.style.width })))\n      .set('containerSize', containerHeight)\n      .resolveTracks();\n\n    rows = tsa.set('tracks', rows)\n      .set('items', children.map(r => ({ start: r.style.gridRowStart, end: r.style.gridRowEnd, size: r.style.height })))\n      .set('containerSize', containerWidth)\n      .resolveTracks();\n\n    for (i = 0; i < rows.length; i++) {\n      for (j = 0; j < rows.length; j++) {\n        gridMatrix[i][j].rowSize = rows[i].baseSize;\n        gridMatrix[i][j].columnSize = columns[j].baseSize;\n      }\n    }\n  },\n  computeGridLayout = (domTree) => {\n    const gridMatrix = [],\n      styles = domTree.style || {},\n      children = domTree.children || [],\n      { templateRows, templateColumns, width, height } = styles,\n      tsa = new TrackResolver(),\n      createGridMatrix = () => {\n        let i;\n        for (i = 0; i < formattedRows.length; i++) {\n          gridMatrix.push(formattedColumns.map(c => ({\n            columnSize: +c.size,\n            rowSize: +formattedRows[i].size\n          })));\n        }\n      };\n\n    let i,\n      formattedRows = parseTemplete(templateRows),\n      formattedColumns = parseTemplete(templateColumns);\n\n    for (i = 0; i < children.length; i++) {\n      if (getDisplayProperty(children[i])) {\n        children[i] = computeLayout(children[i]);\n      }\n    }\n\n    // Create the grid matrix\n    createGridMatrix();\n    // Allocate children to grid matrix\n    placeChildrenInGrid(children, gridMatrix, templateRows, templateColumns);\n    // Size the rows and tracks\n    inflateGridCells(tsa, children, formattedColumns, formattedRows, height, width, gridMatrix);\n    // Calling this second time to ensure that if some item's min-content-contribution has changed\n    inflateGridCells(tsa, children, formattedColumns, formattedRows, height, width, gridMatrix);\n    // Adds x,y coordinates to each cell depending on position and dimensions\n    addCoordinatesToCells(gridMatrix, children);\n\n    return domTree;\n  };\n\nexport default computeGridLayout;","const getMultiplierOfFr = size => +size.replace(/fr/, ''),\n  _frSpaceDistributorHelper = (tracks, totalSpaceUsed, containerSize) => {\n    let freeSpace,\n      spacePerFrTrack,\n      eligibleTracks,\n      totalFrTrackRatio = 0;\n      \n    if (!tracks.length) {\n      return;\n    }\n\n    tracks.forEach(track => totalFrTrackRatio += track.multiplier);\n\n    freeSpace = containerSize - totalSpaceUsed;\n    spacePerFrTrack = freeSpace / totalFrTrackRatio;\n    \n    eligibleTracks = tracks.filter(track => track.baseSize <= track.multiplier * spacePerFrTrack);\n\n    if (eligibleTracks.length < tracks.length) {\n      tracks.filter(track => track.baseSize > track.multiplier * spacePerFrTrack).forEach(track => totalSpaceUsed += track.baseSize);\n      return _frSpaceDistributorHelper(eligibleTracks, totalSpaceUsed, containerSize);\n    } else {\n      eligibleTracks.forEach(track => track.baseSize = track.multiplier * spacePerFrTrack);\n    }\n  },\n  _intrinsicSpaceDistributorHelper = (tracks, totalSpaceUsed, containerSize) => {\n    let freeSpace,\n      spacePerIntrinsicTrack;\n\n    if (!tracks.length) {\n      return;\n    }\n\n    freeSpace = containerSize - totalSpaceUsed;\n    spacePerIntrinsicTrack = freeSpace / tracks.length;\n\n    tracks.forEach(track => track.baseSize += spacePerIntrinsicTrack);\n  };\n\nclass TrackResolver {\n  constructor (tracks = [], items = [], containerSize = 600) {\n    this.props = {};\n    this._config = {\n      frTracks: [],\n      intrinsicTracks: []\n    };\n\n    this.set('tracks', tracks);\n    this.set('items', items);\n    this.set('containerSize', containerSize);\n\n    return this;\n  }\n\n  set (key, info) {\n    this.props[key] = info;\n\n    switch (key) {\n    case 'tracks':\n      this._initTrackSize(); break;\n    case 'items':\n      this._initItems(); break;\n    }\n    return this;\n  }\n\n  get (key) {\n    return this.props[key];\n  }\n\n  _initTrackSize (_tracks) {\n    let tracks = _tracks || this.props.tracks || [],\n      config = this._config,\n      trackAr = [],\n      i,\n      len,\n      size,\n      type,\n      multiplier,\n      baseSize,\n      growthLimit;\n\n    config.frTracks = [];\n    config.intrinsicTracks = [];\n\n    for (i = 0, len = tracks.length; i < len; i++) {\n      size = tracks[i].size;\n\n      multiplier = 1;\n      if (!isNaN(+size)) {\n        baseSize = growthLimit = +size;\n        type = 'fixed';\n      } else if (size.indexOf('fr') > 0) {\n        baseSize = growthLimit = 0;\n        config.frTracks.push(i);\n        type = 'flex';\n        multiplier = getMultiplierOfFr(size);\n      } else {\n        baseSize = 0;\n        growthLimit = Infinity;\n        type = 'intrinsic';\n        config.intrinsicTracks.push(i);\n      }\n\n      trackAr.push({\n        ...tracks[i],\n        type,\n        multiplier,\n        baseSize,\n        growthLimit\n      });\n    }\n\n    return (config.sanitizedTracks = trackAr);\n  }\n\n  _initItems (_items) {\n    let items = _items || this.props.items || [],\n      sanitizedItems = [],\n      item,\n      i,\n      len;\n\n    for (i = 0, len = items.length; i < len; i++) {\n      sanitizedItems.push({...items[i]});\n\n      item = sanitizedItems[i];\n\n      item.size = isNaN(item.size) ? this._getParentSize(item) : +item.size;\n    }\n\n    sanitizedItems.sort(function (a, b) {\n      let gap1 = a.end - a.start,\n        gap2 = b.end - b.start;\n\n      if (gap1 === gap2) {\n        return a.start < b.start;\n      } else return gap1 < gap2;\n    });\n\n    return (this._config.sanitizedItems = sanitizedItems);\n  }\n\n  _getParentSize (item) {\n    let { sanitizedTracks } = this._config,\n      parentTracks,\n      widthOfParentTracks = 0;\n\n    parentTracks = sanitizedTracks.filter(track => (track.start >= item.start && track.end <= item.end));\n\n    parentTracks.forEach(track => widthOfParentTracks += track.baseSize);\n\n    return (widthOfParentTracks || 0);\n  }\n\n  resolveTracks () {\n    this._placeNonSpanningItems()\n      ._placeSpanningItems()\n      ._distributeFreeSpace();\n\n    return this._config.sanitizedTracks;\n  }\n\n  _placeNonSpanningItems () {\n    let { sanitizedItems, sanitizedTracks } = this._config,\n      nonSpanningItems = sanitizedItems.filter(item => (item.end - item.start) === 1),\n      track,\n      trackIndex;\n\n    nonSpanningItems.forEach(item => {\n      trackIndex = item.start - 1;\n      track = sanitizedTracks[trackIndex];\n\n      if (track.type !== 'fixed') {\n        track.baseSize = Math.max(track.baseSize, item.size);\n        track.growthLimit = Math.max(track.growthLimit, track.baseSize);\n      }\n    });\n\n    return this;\n  }\n\n  _placeSpanningItems () {\n    return this;\n  }\n\n  _distributeFreeSpace () {\n    let { frTracks, intrinsicTracks, sanitizedTracks } = this._config,\n      { containerSize } = this.props,\n      totalSpaceUsed = 0;\n\n    sanitizedTracks.forEach(track => totalSpaceUsed += track.baseSize);\n\n    if (totalSpaceUsed < containerSize) {\n      if (frTracks.length) {\n        frTracks.forEach((trackId, index) => {frTracks[index] = sanitizedTracks[trackId];});\n        frTracks.forEach(track => totalSpaceUsed -= track.baseSize);\n        _frSpaceDistributorHelper(frTracks, totalSpaceUsed, containerSize);\n      } else if (intrinsicTracks.length) {\n        intrinsicTracks.forEach((trackId, index) => {intrinsicTracks[index] = sanitizedTracks[trackId];});\n        _intrinsicSpaceDistributorHelper(intrinsicTracks, totalSpaceUsed, containerSize);\n      }\n    }\n    return this;\n  }\n}\n\nexport default TrackResolver;\n","import { computeLayout } from './mason';\n\nexport {\n  computeLayout\n};\n","import computeGridLayout from \"./grid\";\nimport { DISPLAY_GRID, DISPLAY_FLEX } from \"./utils/constants\";\nimport { getDisplayProperty } from \"./utils\";\n\nconst getComputeFn = (display) => {\n  switch(display) {\n    case DISPLAY_GRID: return computeGridLayout;\n    case DISPLAY_FLEX: return computeGridLayout;\n    default:\n    // Probably throw unsupported error?\n    return computeGridLayout;\n  }\n},\ncomputeLayout = (domTree = {}) => {\n  return getComputeFn(getDisplayProperty(domTree))(domTree);\n};\n\nexport {\n  computeLayout\n};\n","export const DISPLAY_GRID = 'grid';\nexport const DISPLAY_FLEX = 'flex';","const getDisplayProperty = (domTree) => {\n  return domTree.style && domTree.style.display;\n};\n\nexport {\n  getDisplayProperty\n};"],"sourceRoot":""}