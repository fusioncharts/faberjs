{"version":3,"sources":["webpack://Mason/webpack/universalModuleDefinition","webpack://Mason/webpack/bootstrap","webpack://Mason/./src/grid/index.js","webpack://Mason/./src/grid/track-sizing.js","webpack://Mason/./src/index.js","webpack://Mason/./src/mason.js","webpack://Mason/./src/utils/constants.js","webpack://Mason/./src/utils/index.js"],"names":["computeGridLayout","domTree","gridMatrix","styles","style","children","templateRows","templateColumns","width","height","parseTemplete","template","map","size","formattedRows","formattedColumns","tsa","TrackResolver","withinBounds","rowStart","rowEnd","colStart","colEnd","length","addCoordinatesToCells","i","j","item","usedX","usedY","cell","startX","endX","columnSize","startY","endY","rowSize","forEach","child","matrixPosition","row","column","createGridMatrix","push","c","placeChildrenInGrid","gridRowStart","gridRowEnd","gridColumnStart","gridColumnEnd","inflateGridCells","rowsWithSize","columnsWithSize","set","start","end","resolveTracks","r","baseSize","getMultiplierOfFr","replace","_frSpaceDistributorHelper","tracks","totalSpaceUsed","containerSize","freeSpace","spacePerFrTrack","eligibleTracks","totalFrTrackRatio","track","multiplier","filter","_intrinsicSpaceDistributorHelper","spacePerIntrinsicTrack","items","props","_config","frTracks","intrinsicTracks","key","info","_initTrackSize","_initItems","_tracks","config","trackAr","len","type","growthLimit","isNaN","indexOf","Infinity","sanitizedTracks","_items","sanitizedItems","_getParentSize","sort","a","b","gap1","gap2","parentTracks","widthOfParentTracks","_placeNonSpanningItems","_placeSpanningItems","_distributeFreeSpace","nonSpanningItems","trackIndex","Math","max","trackId","index","getComputeFn","display","DISPLAY_GRID","DISPLAY_FLEX","computeLayout","getDisplayProperty"],"mappings":"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","file":"main.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Mason\"] = factory();\n\telse\n\t\troot[\"Mason\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","import { getDisplayProperty } from \"../utils\";\nimport { computeLayout } from \"../mason\";\nimport TrackResolver from \"./track-sizing\";\n\nconst computeGridLayout = (domTree) => {\n  const gridMatrix = [],\n    styles = domTree.style || {},\n    children = domTree.children || [],\n    { templateRows, templateColumns, width, height } = styles,\n    parseTemplete = (template) => template.map(size => ({ size })),\n    formattedRows = parseTemplete(templateRows),\n    formattedColumns = parseTemplete(templateColumns),\n    tsa = new TrackResolver(),\n    withinBounds = (rowStart, rowEnd, colStart, colEnd) => {\n      return rowStart - 1 >= 0\n        && rowStart - 1 < templateRows.length\n        && rowEnd - 2 >= 0\n        && rowEnd - 2 < templateRows.length\n        && colStart - 1 >= 0\n        && colStart - 1 < templateColumns.length\n        && colEnd - 2 >= 0\n        && colEnd - 2 < templateColumns.length;\n    },\n    addCoordinatesToCells = () => {\n      let i, j, item, usedX = 0, usedY = 0, cell = {};\n      for (i = 0; i < gridMatrix.length; i++) {\n        usedX = 0;\n        // usedY = null;\n        for (j = 0; j < gridMatrix[i].length; j++) {\n          item = gridMatrix[i][j];\n\n          item.startX = usedX;\n          item.endX = usedX + item.columnSize;\n          usedX = item.endX;\n\n          item.startY = usedY;\n          item.endY = usedY + item.rowSize;\n\n          if (j == gridMatrix[i].length - 1) {\n            usedY = usedY + item.rowSize;\n          }\n        }\n      }\n\n      children.forEach(child => {\n        cell = gridMatrix[child.matrixPosition.row][child.matrixPosition.column];\n        child.startX = cell.startX;\n        child.startY = cell.startY;\n        child.endX = cell.endX;\n        child.endY = cell.endY;\n      });\n    },\n    createGridMatrix = () => {\n      let i;\n      for (i = 0; i < formattedRows.length; i++) {\n        gridMatrix.push(formattedColumns.map(c => ({\n          columnSize: c.size,\n          rowSize: formattedRows[i].size\n        })));\n      }\n    },\n    placeChildrenInGrid = () => {\n      children.forEach(child => {\n        const { gridRowStart, gridRowEnd, gridColumnStart, gridColumnEnd } = child.style;\n        if (withinBounds(gridRowStart, gridRowEnd, gridColumnStart, gridColumnEnd)) {\n          gridMatrix[gridRowStart - 1][gridColumnStart - 1].item = child;\n          child.matrixPosition = {\n            row: gridRowStart - 1,\n            column: gridColumnStart - 1\n          };\n          // TODO:  consider spanning items\n        }\n      });\n    },\n    inflateGridCells = () => {\n      let rowsWithSize,\n        columnsWithSize,\n        i,\n        j;\n\n      columnsWithSize = tsa.set('tracks', formattedColumns)\n        .set('items', children.map(c => ({ start: c.gridColumnStart, end: c.gridColumnEnd })))\n        .set('containerSize', height)\n        .resolveTracks();\n\n      rowsWithSize = tsa.set('tracks', formattedRows)\n        .set('items', children.map(r => ({ start: r.gridRowStart, end: r.gridRowEnd })))\n        .set('containerSize', width)\n        .resolveTracks();\n\n      for (i = 0; i < rowsWithSize.length; i++) {\n        for (j = 0; j < rowsWithSize.length; j++) {\n          gridMatrix[i][j].rowSize = rowsWithSize[i].baseSize;\n          gridMatrix[i][j].columnSize = columnsWithSize[j].baseSize;\n        }\n      }\n    };\n\n  // if (getDisplayProperty(domTree)) {\n  //   //TODO: fix me\n  //   return computeLayout(domTree);\n  // }\n\n  // Create the grid matrix\n  createGridMatrix();\n  // Allocate children to grid matrix\n  placeChildrenInGrid();\n  // Size the rows and tracks\n  inflateGridCells();\n  // Adds x,y coordinates to each cell depending on position and dimensions\n  addCoordinatesToCells();\n\n  // console.log(gridMatrix);\n  // console.log(children);\n};\n\nexport default computeGridLayout;","const getMultiplierOfFr = size => +size.replace(/fr/, ''),\n  _frSpaceDistributorHelper = (tracks, totalSpaceUsed, containerSize) => {\n    let freeSpace,\n      spacePerFrTrack,\n      eligibleTracks,\n      totalFrTrackRatio = 0;\n      \n    if (!tracks.length) {\n      return;\n    }\n\n    tracks.forEach(track => totalFrTrackRatio += track.multiplier);\n\n    freeSpace = containerSize - totalSpaceUsed;\n    spacePerFrTrack = freeSpace / totalFrTrackRatio;\n    \n    eligibleTracks = tracks.filter(track => track.baseSize <= track.multiplier * spacePerFrTrack);\n\n    if (eligibleTracks.length < tracks.length) {\n      tracks.filter(track => track.baseSize > track.multiplier * spacePerFrTrack).forEach(track => totalSpaceUsed += track.baseSize);\n      return _frSpaceDistributorHelper(eligibleTracks, totalSpaceUsed, containerSize);\n    } else {\n      eligibleTracks.forEach(track => track.baseSize = track.multiplier * spacePerFrTrack);\n    }\n  },\n  _intrinsicSpaceDistributorHelper = (tracks, totalSpaceUsed, containerSize) => {\n    let freeSpace,\n      spacePerIntrinsicTrack;\n\n    if (!tracks.length) {\n      return;\n    }\n\n    freeSpace = containerSize - totalSpaceUsed;\n    spacePerIntrinsicTrack = freeSpace / tracks.length;\n\n    tracks.forEach(track => track.baseSize += spacePerIntrinsicTrack);\n  };\n\nclass TrackResolver {\n  constructor (tracks = [], items = [], containerSize = 600) {\n    this.props = {};\n    this._config = {\n      frTracks: [],\n      intrinsicTracks: []\n    };\n\n    this.set('tracks', tracks);\n    this.set('items', items);\n    this.set('containerSize', containerSize);\n\n    return this;\n  }\n\n  set (key, info) {\n    this.props[key] = info;\n\n    switch (key) {\n    case 'tracks':\n      this._initTrackSize(); break;\n    case 'items':\n      this._initItems(); break;\n    }\n    return this;\n  }\n\n  get (key) {\n    return this.props[key];\n  }\n\n  _initTrackSize (_tracks) {\n    let tracks = _tracks || this.props.tracks || [],\n      config = this._config,\n      trackAr = [],\n      i,\n      len,\n      size,\n      type,\n      multiplier,\n      baseSize,\n      growthLimit;\n\n    config.frTracks = [];\n    config.intrinsicTracks = [];\n\n    for (i = 0, len = tracks.length; i < len; i++) {\n      size = tracks[i].size;\n\n      multiplier = 1;\n      if (!isNaN(+size)) {\n        baseSize = growthLimit = +size;\n        type = 'fixed';\n      } else if (size.indexOf('fr') > 0) {\n        baseSize = growthLimit = 0;\n        config.frTracks.push(i);\n        type = 'flex';\n        multiplier = getMultiplierOfFr(size);\n      } else {\n        baseSize = 0;\n        growthLimit = Infinity;\n        type = 'intrinsic';\n        config.intrinsicTracks.push(i);\n      }\n\n      trackAr.push({\n        size,\n        type,\n        multiplier,\n        baseSize,\n        growthLimit\n      });\n    }\n\n    return (config.sanitizedTracks = trackAr);\n  }\n\n  _initItems (_items) {\n    let items = _items || this.props.items || [],\n      sanitizedItems = [],\n      item,\n      i,\n      len;\n\n    for (i = 0, len = items.length; i < len; i++) {\n      sanitizedItems.push({...items[i]});\n\n      item = sanitizedItems[i];\n\n      item.size = isNaN(item.size) ? this._getParentSize(item) : +item.size;\n    }\n\n    sanitizedItems.sort(function (a, b) {\n      let gap1 = a.end - a.start,\n        gap2 = b.end - b.start;\n\n      if (gap1 === gap2) {\n        return a.start < b.start;\n      } else return gap1 < gap2;\n    });\n\n    return (this._config.sanitizedItems = sanitizedItems);\n  }\n\n  _getParentSize (item) {\n    let { sanitizedTracks } = this._config,\n      parentTracks,\n      widthOfParentTracks = 0;\n\n    parentTracks = sanitizedTracks.filter(track => (track.start >= item.start && track.end <= item.end));\n\n    parentTracks.forEach(track => widthOfParentTracks += track.baseSize);\n\n    return (widthOfParentTracks || 0);\n  }\n\n  resolveTracks () {\n    this._placeNonSpanningItems()\n      ._placeSpanningItems()\n      ._distributeFreeSpace();\n\n    return this._config.sanitizedTracks;\n  }\n\n  _placeNonSpanningItems () {\n    let { sanitizedItems, sanitizedTracks } = this._config,\n      nonSpanningItems = sanitizedItems.filter(item => (item.end - item.start) === 1),\n      track,\n      trackIndex;\n\n    nonSpanningItems.forEach(item => {\n      trackIndex = item.start - 1;\n      track = sanitizedTracks[trackIndex];\n\n      if (track.type !== 'fixed') {\n        track.baseSize = Math.max(track.baseSize, item.size);\n        track.growthLimit = Math.max(track.growthLimit, track.baseSize);\n      }\n    });\n\n    return this;\n  }\n\n  _placeSpanningItems () {\n    return this;\n  }\n\n  _distributeFreeSpace () {\n    let { frTracks, intrinsicTracks, sanitizedTracks } = this._config,\n      { containerSize } = this.props,\n      totalSpaceUsed = 0;\n\n    sanitizedTracks.forEach(track => totalSpaceUsed += track.baseSize);\n\n    if (totalSpaceUsed < containerSize) {\n      if (frTracks.length) {\n        frTracks.forEach((trackId, index) => {frTracks[index] = sanitizedTracks[trackId];});\n        frTracks.forEach(track => totalSpaceUsed -= track.baseSize);\n        _frSpaceDistributorHelper(frTracks, totalSpaceUsed, containerSize);\n      } else if (intrinsicTracks.length) {\n        intrinsicTracks.forEach((trackId, index) => {intrinsicTracks[index] = sanitizedTracks[trackId];});\n        _intrinsicSpaceDistributorHelper(intrinsicTracks, totalSpaceUsed, containerSize);\n      }\n    }\n    return this;\n  }\n}\n\nexport default TrackResolver;\n","import { computeLayout } from './mason';\n\nexport {\n  computeLayout\n};\n","import computeGridLayout from \"./grid\";\nimport { DISPLAY_GRID, DISPLAY_FLEX } from \"./utils/constants\";\nimport { getDisplayProperty } from \"./utils\";\n\nconst getComputeFn = (display) => {\n  switch(display) {\n    case DISPLAY_GRID: return computeGridLayout;\n    case DISPLAY_FLEX: return computeGridLayout;\n    default:\n    // Probably throw unsupported error?\n    return computeGridLayout;\n  }\n},\ncomputeLayout = (domTree = {}) => {\n  return getComputeFn(getDisplayProperty(domTree))(domTree);\n};\n\nexport {\n  computeLayout\n};\n","export const DISPLAY_GRID = 'grid';\nexport const DISPLAY_FLEX = 'flex';","const getDisplayProperty = (domTree) => {\n  return domTree.style && domTree.style.display;\n};\n\nexport {\n  getDisplayProperty\n};"],"sourceRoot":""}