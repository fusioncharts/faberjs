{"version":3,"sources":["webpack://Mason/webpack/universalModuleDefinition","webpack://Mason/webpack/bootstrap","webpack://Mason/./src/grid/index.js","webpack://Mason/./src/grid/track-sizing.js","webpack://Mason/./src/index.js","webpack://Mason/./src/mason.js","webpack://Mason/./src/utils/constants.js","webpack://Mason/./src/utils/index.js"],"names":["parseTemplete","template","map","size","index","start","end","withinBounds","rowStart","rowEnd","colStart","colEnd","templateRows","templateColumns","length","addCoordinatesToCells","gridMatrix","children","containerStyles","i","j","item","usedX","usedY","cell","alignedBounds","startX","endX","columnSize","startY","endY","rowSize","forEach","child","matrixPosition","row","column","layout","width","style","height","justifyItems","JUSTIFY_ALIGN_CENTER","justifySelf","Number","isNaN","centerify","alignItems","alignSelf","JUSTIFY_ALIGN_END","endify","placeChildrenInGrid","gridRowStart","gridRowEnd","gridColumnStart","gridColumnEnd","inflateGridCells","tsa","columns","rows","containerHeight","containerWidth","set","c","resolveTracks","r","baseSize","computeGridLayout","domTree","TrackResolver","createGridMatrix","formattedRows","push","formattedColumns","getDisplayProperty","computeLayout","getMultiplierOfFr","replace","_frSpaceDistributorHelper","tracks","totalSpaceUsed","containerSize","freeSpace","spacePerFrTrack","eligibleTracks","totalFrTrackRatio","track","multiplier","filter","_intrinsicSpaceDistributorHelper","spacePerIntrinsicTrack","items","props","_config","frTracks","intrinsicTracks","key","info","_initTrackSize","_initItems","_tracks","config","trackAr","len","type","growthLimit","indexOf","Infinity","sanitizedTracks","_items","sanitizedItems","_getParentSize","sort","a","b","gap1","gap2","parentTracks","widthOfParentTracks","_placeNonSpanningItems","_placeSpanningItems","_distributeFreeSpace","nonSpanningItems","trackIndex","Math","max","trackId","getComputeFn","display","DISPLAY_GRID","DISPLAY_FLEX","JUSTIFY_ALIGN_START","axisStart","axisEnd","itemStart","itemSize","itemFreeSpaceStart","itemEnd","itemFreeSpaceEnd","totalFreeSpace"],"mappings":"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","file":"main.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Mason\"] = factory();\n\telse\n\t\troot[\"Mason\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","import { getDisplayProperty, centerify, endify } from \"../utils\";\nimport { computeLayout } from \"../mason\";\nimport TrackResolver from \"./track-sizing\";\nimport { JUSTIFY_ALIGN_CENTER, JUSTIFY_ALIGN_END } from \"../utils/constants\";\n\n\nconst parseTemplete = (template) => template.map((size, index) => ({ size, start: index + 1, end: index + 2 })),\n  withinBounds = (rowStart, rowEnd, colStart, colEnd, templateRows, templateColumns) => {\n    return rowStart - 1 >= 0\n      && rowStart - 1 < templateRows.length\n      && rowEnd - 2 >= 0\n      && rowEnd - 2 < templateRows.length\n      && colStart - 1 >= 0\n      && colStart - 1 < templateColumns.length\n      && colEnd - 2 >= 0\n      && colEnd - 2 < templateColumns.length;\n  },\n  addCoordinatesToCells = (gridMatrix, children, containerStyles) => {\n    let i, j, item, usedX = 0, usedY = 0, cell = {}, alignedBounds = {};\n    for (i = 0; i < gridMatrix.length; i++) {\n      usedX = 0;\n      // usedY = null;\n      for (j = 0; j < gridMatrix[i].length; j++) {\n        item = gridMatrix[i][j];\n\n        item.startX = usedX;\n        item.endX = usedX + item.columnSize;\n        usedX = item.endX;\n\n        item.startY = usedY;\n        item.endY = usedY + item.rowSize;\n\n        if (j == gridMatrix[i].length - 1) {\n          usedY = usedY + item.rowSize;\n        }\n      }\n    }\n\n    children.forEach(child => {\n      cell = gridMatrix[child.matrixPosition.row][child.matrixPosition.column];\n      child.layout = {};\n\n      child.layout.width = child.style.width;\n      child.layout.height = child.style.height;\n      child.layout.startX = cell.startX;\n      child.layout.startY = cell.startY;\n      child.layout.endX = cell.endX;\n      child.layout.endY = cell.endY;\n\n      if (containerStyles.justifyItems === JUSTIFY_ALIGN_CENTER || child.style.justifySelf == JUSTIFY_ALIGN_CENTER) {\n        if (!Number.isNaN(child.style.width)) {\n          alignedBounds = centerify(cell.startX, cell.endX, child.layout.startX, child.layout.width);\n          child.layout.startX = alignedBounds.start;\n          child.layout.endX = alignedBounds.end;\n        }\n      }\n      if (containerStyles.alignItems === JUSTIFY_ALIGN_CENTER || child.style.alignSelf == JUSTIFY_ALIGN_CENTER) {\n        if (!Number.isNaN(child.style.height)) {\n          alignedBounds = centerify(cell.startY, cell.endY, cell.startY, child.layout.height);\n          child.layout.startY = alignedBounds.start;\n          child.layout.endY = alignedBounds.end;\n        }\n      }\n      if (containerStyles.justifyItems === JUSTIFY_ALIGN_END || child.style.justifySelf == JUSTIFY_ALIGN_END) {\n        if (!Number.isNaN(child.style.width)) {\n          alignedBounds = endify(cell.startX, cell.endX, child.layout.startX, child.layout.width);\n          child.layout.startX = alignedBounds.start;\n          child.layout.endX = alignedBounds.end;\n        }\n      }\n      if (containerStyles.alignItems === JUSTIFY_ALIGN_END || child.style.alignSelf == JUSTIFY_ALIGN_END) {\n        if (!Number.isNaN(child.style.height)) {\n          alignedBounds = endify(cell.startY, cell.endY, cell.startY, child.layout.height);\n          child.layout.startY = alignedBounds.start;\n          child.layout.endY = alignedBounds.end;\n        }\n      }\n    });\n  },\n  placeChildrenInGrid = (children, gridMatrix, templateRows, templateColumns) => {\n    children.forEach(child => {\n      const { gridRowStart, gridRowEnd, gridColumnStart, gridColumnEnd } = child.style;\n      if (withinBounds(gridRowStart, gridRowEnd, gridColumnStart, gridColumnEnd, templateRows, templateColumns)) {\n        gridMatrix[gridRowStart - 1][gridColumnStart - 1].item = child;\n        child.matrixPosition = {\n          row: gridRowStart - 1,\n          column: gridColumnStart - 1\n        };\n        // TODO:  consider spanning items\n      }\n    });\n  },\n  inflateGridCells = (tsa, children, columns, rows, containerHeight, containerWidth, gridMatrix) => {\n    let i,\n      j;\n\n    columns = tsa.set('tracks', columns)\n      .set('items', children.map(c => ({ start: c.style.gridColumnStart, end: c.style.gridColumnEnd, size: c.style.width })))\n      .set('containerSize', containerHeight)\n      .resolveTracks();\n\n    rows = tsa.set('tracks', rows)\n      .set('items', children.map(r => ({ start: r.style.gridRowStart, end: r.style.gridRowEnd, size: r.style.height })))\n      .set('containerSize', containerWidth)\n      .resolveTracks();\n\n    for (i = 0; i < rows.length; i++) {\n      for (j = 0; j < rows.length; j++) {\n        gridMatrix[i][j].rowSize = rows[i].baseSize;\n        gridMatrix[i][j].columnSize = columns[j].baseSize;\n      }\n    }\n  },\n  computeGridLayout = (domTree) => {\n    const gridMatrix = [],\n      containerStyles = domTree.style || {},\n      children = domTree.children || [],\n      { templateRows, templateColumns, width, height } = containerStyles,\n      tsa = new TrackResolver(),\n      createGridMatrix = () => {\n        let i;\n        for (i = 0; i < formattedRows.length; i++) {\n          gridMatrix.push(formattedColumns.map(c => ({\n            columnSize: +c.size,\n            rowSize: +formattedRows[i].size\n          })));\n        }\n      };\n\n    let i,\n      formattedRows = parseTemplete(templateRows),\n      formattedColumns = parseTemplete(templateColumns);\n\n    for (i = 0; i < children.length; i++) {\n      if (getDisplayProperty(children[i])) {\n        children[i] = computeLayout(children[i]);\n      }\n    }\n\n    // Create the grid matrix\n    createGridMatrix();\n    // Allocate children to grid matrix\n    placeChildrenInGrid(children, gridMatrix, templateRows, templateColumns);\n    // Size the rows and tracks\n    inflateGridCells(tsa, children, formattedColumns, formattedRows, height, width, gridMatrix);\n    // Calling this second time to ensure that if some item's min-content-contribution has changed\n    inflateGridCells(tsa, children, formattedColumns, formattedRows, height, width, gridMatrix);\n    // Adds x,y coordinates to each cell depending on position and dimensions\n    addCoordinatesToCells(gridMatrix, children, containerStyles);\n\n    return domTree;\n  };\n\nexport default computeGridLayout;","const getMultiplierOfFr = size => +size.replace(/fr/, ''),\n  _frSpaceDistributorHelper = (tracks, totalSpaceUsed, containerSize) => {\n    let freeSpace,\n      spacePerFrTrack,\n      eligibleTracks,\n      totalFrTrackRatio = 0;\n      \n    if (!tracks.length) {\n      return;\n    }\n\n    tracks.forEach(track => totalFrTrackRatio += track.multiplier);\n\n    freeSpace = containerSize - totalSpaceUsed;\n    spacePerFrTrack = freeSpace / totalFrTrackRatio;\n    \n    eligibleTracks = tracks.filter(track => track.baseSize <= track.multiplier * spacePerFrTrack);\n\n    if (eligibleTracks.length < tracks.length) {\n      tracks.filter(track => track.baseSize > track.multiplier * spacePerFrTrack).forEach(track => totalSpaceUsed += track.baseSize);\n      return _frSpaceDistributorHelper(eligibleTracks, totalSpaceUsed, containerSize);\n    } else {\n      eligibleTracks.forEach(track => track.baseSize = track.multiplier * spacePerFrTrack);\n    }\n  },\n  _intrinsicSpaceDistributorHelper = (tracks, totalSpaceUsed, containerSize) => {\n    let freeSpace,\n      spacePerIntrinsicTrack;\n\n    if (!tracks.length) {\n      return;\n    }\n\n    freeSpace = containerSize - totalSpaceUsed;\n    spacePerIntrinsicTrack = freeSpace / tracks.length;\n\n    tracks.forEach(track => track.baseSize += spacePerIntrinsicTrack);\n  };\n\nclass TrackResolver {\n  constructor (tracks = [], items = [], containerSize = 600) {\n    this.props = {};\n    this._config = {\n      frTracks: [],\n      intrinsicTracks: []\n    };\n\n    this.set('tracks', tracks);\n    this.set('items', items);\n    this.set('containerSize', containerSize);\n\n    return this;\n  }\n\n  set (key, info) {\n    this.props[key] = info;\n\n    switch (key) {\n    case 'tracks':\n      this._initTrackSize(); break;\n    case 'items':\n      this._initItems(); break;\n    }\n    return this;\n  }\n\n  get (key) {\n    return this.props[key];\n  }\n\n  _initTrackSize (_tracks) {\n    let tracks = _tracks || this.props.tracks || [],\n      config = this._config,\n      trackAr = [],\n      i,\n      len,\n      size,\n      type,\n      multiplier,\n      baseSize,\n      growthLimit;\n\n    config.frTracks = [];\n    config.intrinsicTracks = [];\n\n    for (i = 0, len = tracks.length; i < len; i++) {\n      size = tracks[i].size;\n\n      multiplier = 1;\n      if (!isNaN(+size)) {\n        baseSize = growthLimit = +size;\n        type = 'fixed';\n      } else if (size.indexOf('fr') > 0) {\n        baseSize = growthLimit = 0;\n        config.frTracks.push(i);\n        type = 'flex';\n        multiplier = getMultiplierOfFr(size);\n      } else {\n        baseSize = 0;\n        growthLimit = Infinity;\n        type = 'intrinsic';\n        config.intrinsicTracks.push(i);\n      }\n\n      trackAr.push({\n        ...tracks[i],\n        type,\n        multiplier,\n        baseSize,\n        growthLimit\n      });\n    }\n\n    return (config.sanitizedTracks = trackAr);\n  }\n\n  _initItems (_items) {\n    let items = _items || this.props.items || [],\n      sanitizedItems = [],\n      item,\n      i,\n      len;\n\n    for (i = 0, len = items.length; i < len; i++) {\n      sanitizedItems.push({...items[i]});\n\n      item = sanitizedItems[i];\n\n      item.size = isNaN(item.size) ? this._getParentSize(item) : +item.size;\n    }\n\n    sanitizedItems.sort(function (a, b) {\n      let gap1 = a.end - a.start,\n        gap2 = b.end - b.start;\n\n      if (gap1 === gap2) {\n        return a.start < b.start;\n      } else return gap1 < gap2;\n    });\n\n    return (this._config.sanitizedItems = sanitizedItems);\n  }\n\n  _getParentSize (item) {\n    let { sanitizedTracks } = this._config,\n      parentTracks,\n      widthOfParentTracks = 0;\n\n    parentTracks = sanitizedTracks.filter(track => (track.start >= item.start && track.end <= item.end));\n\n    parentTracks.forEach(track => widthOfParentTracks += track.baseSize);\n\n    return (widthOfParentTracks || 0);\n  }\n\n  resolveTracks () {\n    this._placeNonSpanningItems()\n      ._placeSpanningItems()\n      ._distributeFreeSpace();\n\n    return this._config.sanitizedTracks;\n  }\n\n  _placeNonSpanningItems () {\n    let { sanitizedItems, sanitizedTracks } = this._config,\n      nonSpanningItems = sanitizedItems.filter(item => (item.end - item.start) === 1),\n      track,\n      trackIndex;\n\n    nonSpanningItems.forEach(item => {\n      trackIndex = item.start - 1;\n      track = sanitizedTracks[trackIndex];\n\n      if (track.type !== 'fixed') {\n        track.baseSize = Math.max(track.baseSize, item.size);\n        track.growthLimit = Math.max(track.growthLimit, track.baseSize);\n      }\n    });\n\n    return this;\n  }\n\n  _placeSpanningItems () {\n    return this;\n  }\n\n  _distributeFreeSpace () {\n    let { frTracks, intrinsicTracks, sanitizedTracks } = this._config,\n      { containerSize } = this.props,\n      totalSpaceUsed = 0;\n\n    sanitizedTracks.forEach(track => totalSpaceUsed += track.baseSize);\n\n    if (totalSpaceUsed < containerSize) {\n      if (frTracks.length) {\n        frTracks.forEach((trackId, index) => {frTracks[index] = sanitizedTracks[trackId];});\n        frTracks.forEach(track => totalSpaceUsed -= track.baseSize);\n        _frSpaceDistributorHelper(frTracks, totalSpaceUsed, containerSize);\n      } else if (intrinsicTracks.length) {\n        intrinsicTracks.forEach((trackId, index) => {intrinsicTracks[index] = sanitizedTracks[trackId];});\n        _intrinsicSpaceDistributorHelper(intrinsicTracks, totalSpaceUsed, containerSize);\n      }\n    }\n    return this;\n  }\n}\n\nexport default TrackResolver;\n","import { computeLayout } from './mason';\n\nexport {\n  computeLayout\n};\n","import computeGridLayout from \"./grid\";\nimport { DISPLAY_GRID, DISPLAY_FLEX } from \"./utils/constants\";\nimport { getDisplayProperty } from \"./utils\";\n\nconst getComputeFn = (display) => {\n  switch(display) {\n    case DISPLAY_GRID: return computeGridLayout;\n    case DISPLAY_FLEX: return computeGridLayout;\n    default:\n    // Probably throw unsupported error?\n    return computeGridLayout;\n  }\n},\ncomputeLayout = (domTree = {}) => {\n  return getComputeFn(getDisplayProperty(domTree))(domTree);\n};\n\nexport {\n  computeLayout\n};\n","export const DISPLAY_GRID = 'grid';\nexport const DISPLAY_FLEX = 'flex';\nexport const JUSTIFY_ALIGN_CENTER = 'center';\nexport const JUSTIFY_ALIGN_START = 'start';\nexport const JUSTIFY_ALIGN_END = 'end';","const getDisplayProperty = (domTree) => {\n    return domTree.style && domTree.style.display;\n  },\n  centerify = (axisStart, axisEnd, itemStart, itemSize) => {\n    const itemFreeSpaceStart = itemStart - axisStart,\n      itemEnd = itemStart + itemSize,\n      itemFreeSpaceEnd = axisEnd - itemEnd,\n      totalFreeSpace = itemFreeSpaceStart + itemFreeSpaceEnd;\n\n    // Item's revised bounds along block axis\n    return {\n      start: axisStart + (totalFreeSpace / 2),\n      end: axisEnd - (totalFreeSpace / 2)\n    };\n  },\n  endify = (axisStart, axisEnd, itemStart, itemSize) => {\n    const itemFreeSpaceStart = itemStart - axisStart,\n      itemEnd = itemStart + itemSize,\n      itemFreeSpaceEnd = axisEnd - itemEnd,\n      totalFreeSpace = itemFreeSpaceStart + itemFreeSpaceEnd;\n\n    // Item's revised bounds along block axis\n    return {\n      start: axisStart + (totalFreeSpace),\n      end: axisStart + totalFreeSpace + itemSize\n    };\n  };\n\nexport {\n  getDisplayProperty,\n  centerify,\n  endify\n};"],"sourceRoot":""}