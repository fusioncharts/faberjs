{"version":3,"sources":["webpack://Mason/webpack/universalModuleDefinition","webpack://Mason/webpack/bootstrap","webpack://Mason/./src/grid/index.js","webpack://Mason/./src/grid/track-sizing.js","webpack://Mason/./src/index.js","webpack://Mason/./src/mason.js","webpack://Mason/./src/utils/constants.js","webpack://Mason/./src/utils/index.js"],"names":["computeGridLayout","domTree","gridMatrix","styles","style","children","templateRows","templateColumns","width","height","parseTemplete","template","map","size","index","start","end","tsa","TrackResolver","withinBounds","rowStart","rowEnd","colStart","colEnd","length","addCoordinatesToCells","i","j","item","usedX","usedY","cell","startX","endX","columnSize","startY","endY","rowSize","forEach","child","matrixPosition","row","column","createGridMatrix","formattedRows","push","formattedColumns","c","placeChildrenInGrid","gridRowStart","gridRowEnd","gridColumnStart","gridColumnEnd","inflateGridCells","rowsWithSize","columnsWithSize","set","resolveTracks","r","baseSize","getDisplayProperty","computeLayout","getMultiplierOfFr","replace","_frSpaceDistributorHelper","tracks","totalSpaceUsed","containerSize","freeSpace","spacePerFrTrack","eligibleTracks","totalFrTrackRatio","track","multiplier","filter","_intrinsicSpaceDistributorHelper","spacePerIntrinsicTrack","items","props","_config","frTracks","intrinsicTracks","key","info","_initTrackSize","_initItems","_tracks","config","trackAr","len","type","growthLimit","isNaN","indexOf","Infinity","sanitizedTracks","_items","sanitizedItems","_getParentSize","sort","a","b","gap1","gap2","parentTracks","widthOfParentTracks","_placeNonSpanningItems","_placeSpanningItems","_distributeFreeSpace","nonSpanningItems","trackIndex","Math","max","trackId","getComputeFn","display","DISPLAY_GRID","DISPLAY_FLEX"],"mappings":"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","file":"main.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Mason\"] = factory();\n\telse\n\t\troot[\"Mason\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","import { getDisplayProperty } from \"../utils\";\nimport { computeLayout } from \"../mason\";\nimport TrackResolver from \"./track-sizing\";\n\nconst computeGridLayout = (domTree) => {\n  const gridMatrix = [],\n    styles = domTree.style || {},\n    children = domTree.children || [],\n    { templateRows, templateColumns, width, height } = styles,\n    parseTemplete = (template) => template.map((size, index) => ({ size, start: index + 1, end: index + 2 })),\n    tsa = new TrackResolver(),\n    withinBounds = (rowStart, rowEnd, colStart, colEnd) => {\n      return rowStart - 1 >= 0\n        && rowStart - 1 < templateRows.length\n        && rowEnd - 2 >= 0\n        && rowEnd - 2 < templateRows.length\n        && colStart - 1 >= 0\n        && colStart - 1 < templateColumns.length\n        && colEnd - 2 >= 0\n        && colEnd - 2 < templateColumns.length;\n    },\n    addCoordinatesToCells = () => {\n      let i, j, item, usedX = 0, usedY = 0, cell = {};\n      for (i = 0; i < gridMatrix.length; i++) {\n        usedX = 0;\n        // usedY = null;\n        for (j = 0; j < gridMatrix[i].length; j++) {\n          item = gridMatrix[i][j];\n\n          item.startX = usedX;\n          item.endX = usedX + item.columnSize;\n          usedX = item.endX;\n\n          item.startY = usedY;\n          item.endY = usedY + item.rowSize;\n\n          if (j == gridMatrix[i].length - 1) {\n            usedY = usedY + item.rowSize;\n          }\n        }\n      }\n\n      children.forEach(child => {\n        cell = gridMatrix[child.matrixPosition.row][child.matrixPosition.column];\n        child.startX = cell.startX;\n        child.startY = cell.startY;\n        child.endX = cell.endX;\n        child.endY = cell.endY;\n      });\n    },\n    createGridMatrix = () => {\n      let i;\n      for (i = 0; i < formattedRows.length; i++) {\n        gridMatrix.push(formattedColumns.map(c => ({\n          columnSize: +c.size,\n          rowSize: +formattedRows[i].size\n        })));\n      }\n    },\n    placeChildrenInGrid = () => {\n      children.forEach(child => {\n        const { gridRowStart, gridRowEnd, gridColumnStart, gridColumnEnd } = child.style;\n        if (withinBounds(gridRowStart, gridRowEnd, gridColumnStart, gridColumnEnd)) {\n          gridMatrix[gridRowStart - 1][gridColumnStart - 1].item = child;\n          child.matrixPosition = {\n            row: gridRowStart - 1,\n            column: gridColumnStart - 1\n          };\n          // TODO:  consider spanning items\n        }\n      });\n    },\n    inflateGridCells = () => {\n      let rowsWithSize,\n        columnsWithSize,\n        i,\n        j;\n\n      columnsWithSize = tsa.set('tracks', formattedColumns)\n        .set('items', children.map(c => ({ start: c.style.gridColumnStart, end: c.style.gridColumnEnd, size: c.style.width })))\n        .set('containerSize', height)\n        .resolveTracks();\n      formattedColumns = columnsWithSize;\n\n      rowsWithSize = tsa.set('tracks', formattedRows)\n        .set('items', children.map(r => ({ start: r.style.gridRowStart, end: r.style.gridRowEnd, size: r.style.height })))\n        .set('containerSize', width)\n        .resolveTracks();\n      formattedRows = rowsWithSize;\n\n      for (i = 0; i < rowsWithSize.length; i++) {\n        for (j = 0; j < rowsWithSize.length; j++) {\n          gridMatrix[i][j].rowSize = rowsWithSize[i].baseSize;\n          gridMatrix[i][j].columnSize = columnsWithSize[j].baseSize;\n        }\n      }\n    };\n\n  let i,\n    formattedRows = parseTemplete(templateRows),\n    formattedColumns = parseTemplete(templateColumns);\n  for (i = 0; i < children.length; i++) {\n    if (getDisplayProperty(children[i])) {\n      children[i] = computeLayout(children[i]);\n    }\n  }\n\n  // Create the grid matrix\n  createGridMatrix();\n  // Allocate children to grid matrix\n  placeChildrenInGrid();\n  // Size the rows and tracks\n  inflateGridCells();\n  // Calling this second time to ensure that if some item's min-content-contribution has changed\n  inflateGridCells();\n  // Adds x,y coordinates to each cell depending on position and dimensions\n  addCoordinatesToCells();\n\n  return domTree;\n};\n\nexport default computeGridLayout;","const getMultiplierOfFr = size => +size.replace(/fr/, ''),\n  _frSpaceDistributorHelper = (tracks, totalSpaceUsed, containerSize) => {\n    let freeSpace,\n      spacePerFrTrack,\n      eligibleTracks,\n      totalFrTrackRatio = 0;\n      \n    if (!tracks.length) {\n      return;\n    }\n\n    tracks.forEach(track => totalFrTrackRatio += track.multiplier);\n\n    freeSpace = containerSize - totalSpaceUsed;\n    spacePerFrTrack = freeSpace / totalFrTrackRatio;\n    \n    eligibleTracks = tracks.filter(track => track.baseSize <= track.multiplier * spacePerFrTrack);\n\n    if (eligibleTracks.length < tracks.length) {\n      tracks.filter(track => track.baseSize > track.multiplier * spacePerFrTrack).forEach(track => totalSpaceUsed += track.baseSize);\n      return _frSpaceDistributorHelper(eligibleTracks, totalSpaceUsed, containerSize);\n    } else {\n      eligibleTracks.forEach(track => track.baseSize = track.multiplier * spacePerFrTrack);\n    }\n  },\n  _intrinsicSpaceDistributorHelper = (tracks, totalSpaceUsed, containerSize) => {\n    let freeSpace,\n      spacePerIntrinsicTrack;\n\n    if (!tracks.length) {\n      return;\n    }\n\n    freeSpace = containerSize - totalSpaceUsed;\n    spacePerIntrinsicTrack = freeSpace / tracks.length;\n\n    tracks.forEach(track => track.baseSize += spacePerIntrinsicTrack);\n  };\n\nclass TrackResolver {\n  constructor (tracks = [], items = [], containerSize = 600) {\n    this.props = {};\n    this._config = {\n      frTracks: [],\n      intrinsicTracks: []\n    };\n\n    this.set('tracks', tracks);\n    this.set('items', items);\n    this.set('containerSize', containerSize);\n\n    return this;\n  }\n\n  set (key, info) {\n    this.props[key] = info;\n\n    switch (key) {\n    case 'tracks':\n      this._initTrackSize(); break;\n    case 'items':\n      this._initItems(); break;\n    }\n    return this;\n  }\n\n  get (key) {\n    return this.props[key];\n  }\n\n  _initTrackSize (_tracks) {\n    let tracks = _tracks || this.props.tracks || [],\n      config = this._config,\n      trackAr = [],\n      i,\n      len,\n      size,\n      type,\n      multiplier,\n      baseSize,\n      growthLimit;\n\n    config.frTracks = [];\n    config.intrinsicTracks = [];\n\n    for (i = 0, len = tracks.length; i < len; i++) {\n      size = tracks[i].size;\n\n      multiplier = 1;\n      if (!isNaN(+size)) {\n        baseSize = growthLimit = +size;\n        type = 'fixed';\n      } else if (size.indexOf('fr') > 0) {\n        baseSize = growthLimit = 0;\n        config.frTracks.push(i);\n        type = 'flex';\n        multiplier = getMultiplierOfFr(size);\n      } else {\n        baseSize = 0;\n        growthLimit = Infinity;\n        type = 'intrinsic';\n        config.intrinsicTracks.push(i);\n      }\n\n      trackAr.push({\n        ...tracks[i],\n        type,\n        multiplier,\n        baseSize,\n        growthLimit\n      });\n    }\n\n    return (config.sanitizedTracks = trackAr);\n  }\n\n  _initItems (_items) {\n    let items = _items || this.props.items || [],\n      sanitizedItems = [],\n      item,\n      i,\n      len;\n\n    for (i = 0, len = items.length; i < len; i++) {\n      sanitizedItems.push({...items[i]});\n\n      item = sanitizedItems[i];\n\n      item.size = isNaN(item.size) ? this._getParentSize(item) : +item.size;\n    }\n\n    sanitizedItems.sort(function (a, b) {\n      let gap1 = a.end - a.start,\n        gap2 = b.end - b.start;\n\n      if (gap1 === gap2) {\n        return a.start < b.start;\n      } else return gap1 < gap2;\n    });\n\n    return (this._config.sanitizedItems = sanitizedItems);\n  }\n\n  _getParentSize (item) {\n    let { sanitizedTracks } = this._config,\n      parentTracks,\n      widthOfParentTracks = 0;\n\n    parentTracks = sanitizedTracks.filter(track => (track.start >= item.start && track.end <= item.end));\n\n    parentTracks.forEach(track => widthOfParentTracks += track.baseSize);\n\n    return (widthOfParentTracks || 0);\n  }\n\n  resolveTracks () {\n    this._placeNonSpanningItems()\n      ._placeSpanningItems()\n      ._distributeFreeSpace();\n\n    return this._config.sanitizedTracks;\n  }\n\n  _placeNonSpanningItems () {\n    let { sanitizedItems, sanitizedTracks } = this._config,\n      nonSpanningItems = sanitizedItems.filter(item => (item.end - item.start) === 1),\n      track,\n      trackIndex;\n\n    nonSpanningItems.forEach(item => {\n      trackIndex = item.start - 1;\n      track = sanitizedTracks[trackIndex];\n\n      if (track.type !== 'fixed') {\n        track.baseSize = Math.max(track.baseSize, item.size);\n        track.growthLimit = Math.max(track.growthLimit, track.baseSize);\n      }\n    });\n\n    return this;\n  }\n\n  _placeSpanningItems () {\n    return this;\n  }\n\n  _distributeFreeSpace () {\n    let { frTracks, intrinsicTracks, sanitizedTracks } = this._config,\n      { containerSize } = this.props,\n      totalSpaceUsed = 0;\n\n    sanitizedTracks.forEach(track => totalSpaceUsed += track.baseSize);\n\n    if (totalSpaceUsed < containerSize) {\n      if (frTracks.length) {\n        frTracks.forEach((trackId, index) => {frTracks[index] = sanitizedTracks[trackId];});\n        frTracks.forEach(track => totalSpaceUsed -= track.baseSize);\n        _frSpaceDistributorHelper(frTracks, totalSpaceUsed, containerSize);\n      } else if (intrinsicTracks.length) {\n        intrinsicTracks.forEach((trackId, index) => {intrinsicTracks[index] = sanitizedTracks[trackId];});\n        _intrinsicSpaceDistributorHelper(intrinsicTracks, totalSpaceUsed, containerSize);\n      }\n    }\n    return this;\n  }\n}\n\nexport default TrackResolver;\n","import { computeLayout } from './mason';\n\nexport {\n  computeLayout\n};\n","import computeGridLayout from \"./grid\";\nimport { DISPLAY_GRID, DISPLAY_FLEX } from \"./utils/constants\";\nimport { getDisplayProperty } from \"./utils\";\n\nconst getComputeFn = (display) => {\n  switch(display) {\n    case DISPLAY_GRID: return computeGridLayout;\n    case DISPLAY_FLEX: return computeGridLayout;\n    default:\n    // Probably throw unsupported error?\n    return computeGridLayout;\n  }\n},\ncomputeLayout = (domTree = {}) => {\n  return getComputeFn(getDisplayProperty(domTree))(domTree);\n};\n\nexport {\n  computeLayout\n};\n","export const DISPLAY_GRID = 'grid';\nexport const DISPLAY_FLEX = 'flex';","const getDisplayProperty = (domTree) => {\n  return domTree.style && domTree.style.display;\n};\n\nexport {\n  getDisplayProperty\n};"],"sourceRoot":""}